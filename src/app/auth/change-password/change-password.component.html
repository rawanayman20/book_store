<div class="change-container">
  <!-- Left image section -->
  <div class="left-image">
    <img src="/assets/photo.jpg" alt="Decorative image" />
  </div>

  <!-- Right form section -->
  <div class="right-form">
    <div class="form-box">
      <!-- Logo -->
      <img src="/assets/logo.png" alt="Logo" class="logo" />

      <!-- Texts -->
      <p class="welcome-text">Welcome back!</p>
      <h3 class="title">Change Your Password Easily</h3>

      <!-- Form -->
      <form [formGroup]="changePasswordForm" (ngSubmit)="onSave(changePasswordForm)">
        <!-- Old Password -->
      <mat-form-field appearance="outline" class="full-width" style="margin-top: 15px;">
  <mat-label>Password</mat-label>
  <input
    matInput
    [type]="hideOld ? 'password' : 'text'"
    formControlName="password"
    required
  />
  <!-- Only ONE button with icon -->
  <button
    mat-icon-button
    matSuffix
    type="button"
    (click)="hideOld = !hideOld"
    aria-label="Toggle password visibility"
  >
    <mat-icon>{{ hideOld ? 'visibility_off' : 'visibility' }}</mat-icon>
  </button>

  <!-- Validation errors -->
  <mat-error *ngIf="changePasswordForm.get('password')?.hasError('required')">
    Password is required.
  </mat-error>

</mat-form-field>

        <!-- New Password -->
<mat-form-field appearance="outline" class="full-width" style="margin-top: 15px;">
  <mat-label>New Password</mat-label>
  <input
    matInput
    [type]="hideNew ? 'password' : 'text'"
    formControlName="password_new"
    autocomplete="new-password"
    required
  />

  <button
    mat-icon-button
    matSuffix
    type="button"
    (click)="hideNew = !hideNew"
    aria-label="Toggle password visibility"
  >
    <mat-icon>{{ hideNew ? 'visibility_off' : 'visibility' }}</mat-icon>
  </button>

  <!-- Errors -->
  <mat-error *ngIf="changePasswordForm.get('password_new')?.hasError('required')">
    Password is required.
  </mat-error>
  <mat-error *ngIf="changePasswordForm.get('password_new')?.hasError('minlength')">
    Password must be at least 8 characters.
  </mat-error>
  <mat-error *ngIf="changePasswordForm.get('password_new')?.hasError('maxlength')">
    Password must be no more than 16 characters.
  </mat-error>
  <mat-error *ngIf="changePasswordForm.get('password_new')?.hasError('pattern')">
    Password must contain uppercase, lowercase, number, and special character.
  </mat-error>
</mat-form-field>



        <!-- Save Button -->
        <button style="margin-top: 20px;color: white;"
          mat-flat-button
          color="primary"
          class="full-width"
          type="submit"
          [disabled]="changePasswordForm.invalid"
        >
          Save
        </button>
      </form>
    </div>
  </div>
</div>
